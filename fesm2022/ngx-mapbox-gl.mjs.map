{"version":3,"file":"ngx-mapbox-gl.mjs","sources":["../../../../libs/ngx-mapbox-gl/src/lib/map/map.service.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/control.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/attribution-control.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/fullscreen-control.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/geolocate-control.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/navigation-control.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/control/scale-control.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/layer/layer.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/geojson/geojson-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/geojson/feature.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/utils.ts","../../../../libs/ngx-mapbox-gl/src/lib/draggable/draggable.directive.ts","../../../../libs/ngx-mapbox-gl/src/lib/image/image.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/map/map.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/marker/marker.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/markers-for-clusters/markers-for-clusters.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/popup/popup.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/canvas-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/image-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/raster-dem-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/raster-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/vector-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/source/video-source.component.ts","../../../../libs/ngx-mapbox-gl/src/lib/ngx-mapbox-gl.module.ts","../../../../libs/ngx-mapbox-gl/src/index.ts","../../../../libs/ngx-mapbox-gl/src/ngx-mapbox-gl.ts"],"sourcesContent":["import {\n  EventEmitter,\n  Inject,\n  Injectable,\n  InjectionToken,\n  NgZone,\n  Optional,\n} from '@angular/core';\nimport { AsyncSubject, Observable, Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport {\n  FlyToOptions,\n  LayerEvents,\n  LayerSpecificationLayout,\n  LayerSpecificationPaint,\n  MapEvent,\n  MapImageData,\n  MapImageOptions,\n} from './map.types';\nimport { Map, AnimationOptions, SourceSpecification, Source, CameraOptions, FillExtrusionLayout, FillExtrusionPaint, FillLayout, FillPaint, FitBoundsOptions, IControl, Layer, LineLayout, LinePaint, LngLatBoundsLike, LngLatLike, MapOptions, Marker, MarkerOptions, PointLike, Popup, PopupOptions, RasterLayout, RasterPaint, Style, SymbolLayout, SymbolPaint, BackgroundLayout, BackgroundLayerSpecification, BackgroundPaint, FillExtrusionLayerSpecification, FillLayerSpecification, LineLayerSpecification, RasterLayerSpecification, SymbolLayerSpecification, CircleLayerSpecification, AnyLayer, LayerSpecification, ControlPosition } from 'mapbox-gl';\n\nexport const MAPBOX_API_KEY = new InjectionToken('MapboxApiKey');\n\nexport interface SetupMap {\n  accessToken?: string;\n  mapOptions: MapOptions;\n  mapEvents: MapEvent;\n}\n\nexport interface SetupLayer {\n  layerOptions: Layer;\n  layerEvents: LayerEvents;\n}\n\nexport interface SetupPopup {\n  popupOptions: PopupOptions;\n  popupEvents: {\n    open: EventEmitter<void>;\n    close: EventEmitter<void>;\n    popupOpen: EventEmitter<void>;\n    popupClose: EventEmitter<void>;\n  };\n}\n\nexport interface SetupMarker {\n  markersOptions: MarkerOptions & {\n    feature?: GeoJSON.Feature<GeoJSON.Point>;\n    lngLat?: LngLatLike;\n  };\n  markersEvents: {\n    markerDragStart: EventEmitter<Marker>;\n    markerDrag: EventEmitter<Marker>;\n    markerDragEnd: EventEmitter<Marker>;\n  };\n}\n\ninterface MapboxOptionsWithAccessToken extends MapOptions {\n  accessToken: MapOptions['accessToken'];\n}\n\nexport type MovingOptions =\n  | FlyToOptions\n  | (AnimationOptions & CameraOptions)\n  | CameraOptions;\n\n@Injectable()\nexport class MapService {\n  mapInstance: Map;\n  mapCreated$: Observable<void>;\n  mapLoaded$: Observable<void>;\n  mapEvents: MapEvent;\n\n  private mapCreated = new AsyncSubject<void>();\n  private mapLoaded = new AsyncSubject<void>();\n  private markersToRemove: Marker[] = [];\n  private popupsToRemove: Popup[] = [];\n  private imageIdsToRemove: string[] = [];\n  private subscription = new Subscription();\n\n  constructor(\n    private zone: NgZone,\n    @Optional()\n    @Inject(MAPBOX_API_KEY)\n    private readonly MAPBOX_API_KEY: string | null\n  ) {\n    this.mapCreated$ = this.mapCreated.asObservable();\n    this.mapLoaded$ = this.mapLoaded.asObservable();\n  }\n\n  setup(options: SetupMap) {\n\n    // Need onStable to wait for a potential @angular/route transition to end\n    this.zone.onStable.pipe(first()).subscribe(() => {\n      // Workaround rollup issue\n      // this.assign(\n      //   MapboxGl,\n      //   'accessToken',\n      //   options.accessToken || this.MAPBOX_API_KEY\n      // );\n\n      this.createMap({\n        ...options.mapOptions,\n        accessToken: options.accessToken || this.MAPBOX_API_KEY || '',\n      });\n\n      this.hookEvents(options.mapEvents);\n      this.mapEvents = options.mapEvents;\n      this.mapCreated.next(undefined);\n      this.mapCreated.complete();\n      // Intentionnaly emit mapCreate after internal mapCreated event\n      if (options.mapEvents.mapCreate.observed) {\n        this.zone.run(() => {\n          options.mapEvents.mapCreate.emit(this.mapInstance);\n        });\n      }\n    });\n  }\n\n  destroyMap() {\n    if (this.mapInstance) {\n      this.subscription.unsubscribe();\n      this.mapInstance.remove();\n    }\n  }\n\n  updateProjection(projection: MapOptions['projection']) {\n    return this.zone.runOutsideAngular(() => {\n      (this.mapInstance as any).setProjection(projection);\n    });\n  }\n\n  updateMinZoom(minZoom: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinZoom(minZoom);\n    });\n  }\n\n  updateMaxZoom(maxZoom: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxZoom(maxZoom);\n    });\n  }\n\n  updateMinPitch(minPitch: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinPitch(minPitch);\n    });\n  }\n\n  updateMaxPitch(maxPitch: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxPitch(maxPitch);\n    });\n  }\n\n  updateRenderWorldCopies(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setRenderWorldCopies(status);\n    });\n  }\n\n  updateScrollZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.scrollZoom.enable()\n        : this.mapInstance.scrollZoom.disable();\n    });\n  }\n\n  updateDragRotate(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.dragRotate.enable()\n        : this.mapInstance.dragRotate.disable();\n    });\n  }\n\n  updateTouchPitch(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.touchPitch.enable()\n        : this.mapInstance.touchPitch.disable();\n    });\n  }\n\n  updateTouchZoomRotate(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.touchZoomRotate.enable()\n        : this.mapInstance.touchZoomRotate.disable();\n    });\n  }\n\n  updateDoubleClickZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.doubleClickZoom.enable()\n        : this.mapInstance.doubleClickZoom.disable();\n    });\n  }\n\n  updateKeyboard(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.keyboard.enable()\n        : this.mapInstance.keyboard.disable();\n    });\n  }\n\n  updateDragPan(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.dragPan.enable()\n        : this.mapInstance.dragPan.disable();\n    });\n  }\n\n  updateBoxZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.boxZoom.enable()\n        : this.mapInstance.boxZoom.disable();\n    });\n  }\n\n  updateStyle(style: Style) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setStyle(style);\n    });\n  }\n\n  updateMaxBounds(maxBounds: LngLatBoundsLike) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxBounds(maxBounds);\n    });\n  }\n\n  changeCanvasCursor(cursor: string) {\n    const canvas = this.mapInstance.getCanvasContainer();\n    canvas.style.cursor = cursor;\n  }\n\n  queryRenderedFeatures(\n    pointOrBox?: PointLike | [PointLike, PointLike],\n    parameters?: { layers?: string[]; filter?: any[] }\n  ): GeoJSON.Feature<GeoJSON.GeometryObject>[] {\n    return this.mapInstance.queryRenderedFeatures(pointOrBox, parameters);\n  }\n\n  panTo(center: LngLatLike, options?: AnimationOptions) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.panTo(center, options);\n    });\n  }\n\n  move(\n    movingMethod: 'jumpTo' | 'easeTo' | 'flyTo',\n    movingOptions?: MovingOptions,\n    zoom?: number,\n    center?: LngLatLike,\n    bearing?: number,\n    pitch?: number\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      (this.mapInstance[movingMethod] as any)({\n        ...movingOptions,\n        zoom: zoom != null ? zoom : this.mapInstance.getZoom(),\n        center: center != null ? center : this.mapInstance.getCenter(),\n        bearing: bearing != null ? bearing : this.mapInstance.getBearing(),\n        pitch: pitch != null ? pitch : this.mapInstance.getPitch(),\n      });\n    });\n  }\n\n  addLayer(layer: SetupLayer, bindEvents: boolean, before?: string) {\n    this.zone.runOutsideAngular(() => {\n      Object.keys(layer.layerOptions).forEach((key: string) => {\n        const tkey = key as keyof LayerSpecification;\n        if (layer.layerOptions[tkey] === undefined) {\n          delete layer.layerOptions[tkey];\n        }\n      });\n\n      this.mapInstance.addLayer(\n        layer.layerOptions,\n        before\n      );\n\n      if (bindEvents) {\n        if (layer.layerEvents.layerClick.observed) {\n          this.mapInstance.on('click', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerClick.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerDblClick.observed) {\n          this.mapInstance.on('dblclick', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerDblClick.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseDown.observed) {\n          this.mapInstance.on('mousedown', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseDown.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseUp.observed) {\n          this.mapInstance.on('mouseup', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseUp.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseEnter.observed) {\n          this.mapInstance.on('mouseenter', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseEnter.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseLeave.observed) {\n          this.mapInstance.on('mouseleave', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseLeave.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseMove.observed) {\n          this.mapInstance.on('mousemove', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseMove.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOver.observed) {\n          this.mapInstance.on('mouseover', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOver.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOut.observed) {\n          this.mapInstance.on('mouseout', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOut.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerContextMenu.observed) {\n          this.mapInstance.on('contextmenu', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerContextMenu.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchStart.observed) {\n          this.mapInstance.on('touchstart', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchStart.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchEnd.observed) {\n          this.mapInstance.on('touchend', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchEnd.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchCancel.observed) {\n          this.mapInstance.on('touchcancel', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchCancel.emit(evt);\n            });\n          });\n        }\n      }\n    });\n  }\n\n  removeLayer(layerId: string) {\n    this.zone.runOutsideAngular(() => {\n      if (this.mapInstance.getLayer(layerId) != null) {\n        this.mapInstance.removeLayer(layerId);\n      }\n    });\n  }\n\n  addMarker(marker: SetupMarker) {\n    const options: MarkerOptions = {\n      offset: marker.markersOptions.offset,\n      anchor: marker.markersOptions.anchor,\n      draggable: !!marker.markersOptions.draggable,\n      rotationAlignment: marker.markersOptions.rotationAlignment,\n      pitchAlignment: marker.markersOptions.pitchAlignment,\n      clickTolerance: marker.markersOptions.clickTolerance,\n    };\n\n    if (marker.markersOptions?.element?.childNodes.length) {\n      options.element = marker.markersOptions.element;\n    }\n\n    const markerInstance = new Marker(options);\n    if (marker.markersEvents.markerDragStart.observed) {\n      markerInstance.on('dragstart', (event) => {\n        if (event) {\n          const { target } = event as { target: Marker };\n          this.zone.run(() => {\n            marker.markersEvents.markerDragStart.emit(target);\n          });\n        }\n      });\n    }\n\n    if (marker.markersEvents.markerDrag.observed) {\n      markerInstance.on('drag', (event) => {\n        if (event) {\n          const { target } = event as { target: Marker };\n          this.zone.run(() => {\n            marker.markersEvents.markerDrag.emit(target);\n          });\n        }\n      });\n    }\n\n    if (marker.markersEvents.markerDragEnd.observed) {\n      markerInstance.on('dragend', (event) => {\n        if (event) {\n          const { target } = event as { target: Marker };\n          this.zone.run(() => {\n            marker.markersEvents.markerDragEnd.emit(target);\n          });\n        }\n      });\n    }\n\n    const lngLat: LngLatLike = marker.markersOptions.feature\n      ? (marker.markersOptions.feature.geometry.coordinates as [\n        number,\n        number\n      ])\n      : marker.markersOptions.lngLat!;\n    markerInstance.setLngLat(lngLat);\n    return this.zone.runOutsideAngular(() => {\n      markerInstance.addTo(this.mapInstance);\n      return markerInstance;\n    });\n  }\n\n  removeMarker(marker: Marker) {\n    this.markersToRemove.push(marker);\n  }\n\n  createPopup(popup: SetupPopup, element: Node) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(popup.popupOptions).forEach(\n        (key) =>\n          (popup.popupOptions as any)[key] === undefined &&\n          delete (popup.popupOptions as any)[key]\n      );\n      const popupInstance = new Popup(popup.popupOptions);\n      popupInstance.setDOMContent(element);\n      if (\n        popup.popupEvents.popupClose.observed ||\n        popup.popupEvents.close.observed\n      ) {\n        popupInstance.on('close', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupClose.emit();\n            popup.popupEvents.close.emit();\n          });\n        });\n      }\n      if (\n        popup.popupEvents.popupOpen.observed ||\n        popup.popupEvents.open.observed\n      ) {\n        popupInstance.on('open', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupOpen.emit();\n            popup.popupEvents.open.emit();\n          });\n        });\n      }\n      return popupInstance;\n    });\n  }\n\n  addPopupToMap(\n    popup: Popup,\n    lngLat: LngLatLike,\n    skipOpenEvent = false\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      if (skipOpenEvent && (popup as any)._listeners) {\n        delete (popup as any)._listeners['open'];\n      }\n      popup.setLngLat(lngLat);\n      popup.addTo(this.mapInstance);\n    });\n  }\n\n  addPopupToMarker(marker: Marker, popup: Popup) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(popup);\n    });\n  }\n\n  removePopupFromMap(popup: Popup, skipCloseEvent = false) {\n    if (skipCloseEvent && (popup as any)._listeners) {\n      delete (popup as any)._listeners['close'];\n    }\n    this.popupsToRemove.push(popup);\n  }\n\n  removePopupFromMarker(marker: Marker) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(undefined);\n    });\n  }\n\n  addControl(\n    control: IControl,\n    position?: ControlPosition\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addControl(control, position);\n    });\n  }\n\n  removeControl(control: IControl) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.removeControl(control as any);\n    });\n  }\n\n  async loadAndAddImage(\n    imageId: string,\n    url: string,\n    options?: MapImageOptions\n  ) {\n    return this.zone.runOutsideAngular(\n      () =>\n        new Promise<void>((resolve, reject) => {\n          this.mapInstance.loadImage(url, (error, image) => {\n            if (error) {\n              reject(error);\n              return;\n            }\n            this.addImage(imageId, image as ImageBitmap, options);\n            resolve();\n          });\n        })\n    );\n  }\n\n  addImage(imageId: string, data: MapImageData, options?: MapImageOptions) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addImage(imageId, data as any, options);\n    });\n  }\n\n  removeImage(imageId: string) {\n    this.imageIdsToRemove.push(imageId);\n  }\n\n  addSource(sourceId: string, source: SourceSpecification) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(source).forEach(\n        (key) =>\n          (source as any)[key] === undefined && delete (source as any)[key]\n      );\n\n      this.mapInstance.addSource(sourceId, source);\n    });\n  }\n\n  getSource<T extends Source>(sourceId: string) {\n    return this.mapInstance.getSource(sourceId) as T;\n  }\n\n  removeSource(sourceId: string) {\n    this.zone.runOutsideAngular(() => {\n      this.findLayersBySourceId(sourceId).forEach((layer) =>\n        this.mapInstance.removeLayer(layer.id)\n      );\n      this.mapInstance.removeSource(sourceId);\n    });\n  }\n\n  setAllLayerPaintProperty(\n    layerId: string,\n    paint: LayerSpecificationPaint\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      if (paint != null) {\n        Object.keys(paint as object).forEach((key) => {\n          // TODO Check for perf, setPaintProperty only on changed paint props maybe\n          this.mapInstance.setPaintProperty(layerId, key as (keyof LayerSpecificationPaint), paint[key as keyof LayerSpecificationPaint]);\n        });\n      }\n    });\n  }\n\n  setAllLayerLayoutProperty(\n    layerId: string,\n    layout: LayerSpecificationLayout\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      if (layout != null) {\n        Object.keys(layout as object).forEach((key) => {\n          // TODO Check for perf, setPaintProperty only on changed paint props maybe\n          this.mapInstance.setLayoutProperty(layerId, key as (keyof LayerSpecificationLayout), layout[key as keyof LayerSpecificationLayout]);\n        });\n      }\n    });\n  }\n\n  setLayerFilter(layerId: string, filter: any[]) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setFilter(layerId, filter);\n    });\n  }\n\n  setLayerBefore(layerId: string, beforeId: string) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.moveLayer(layerId, beforeId);\n    });\n  }\n\n  setLayerZoomRange(layerId: string, minZoom?: number, maxZoom?: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setLayerZoomRange(\n        layerId,\n        minZoom ? minZoom : 0,\n        maxZoom ? maxZoom : 20\n      );\n    });\n  }\n\n  fitBounds(\n    bounds: LngLatBoundsLike,\n    options?: FitBoundsOptions\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitBounds(bounds, options);\n    });\n  }\n\n  fitScreenCoordinates(\n    points: [PointLike, PointLike],\n    bearing: number,\n    options?: AnimationOptions & CameraOptions\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitScreenCoordinates(\n        points[0],\n        points[1],\n        bearing,\n        options\n      );\n    });\n  }\n\n  applyChanges() {\n    this.zone.runOutsideAngular(() => {\n      this.removeMarkers();\n      this.removePopups();\n      this.removeImages();\n    });\n  }\n\n  private createMap(optionsWithAccessToken: MapboxOptionsWithAccessToken) {\n    NgZone.assertNotInAngularZone();\n    Object.keys(optionsWithAccessToken).forEach((key: string) => {\n      const tkey = key as keyof MapOptions;\n      if (optionsWithAccessToken[tkey] === undefined) {\n        delete optionsWithAccessToken[tkey];\n      }\n    });\n    this.mapInstance = new Map(optionsWithAccessToken);\n\n    const isIEorEdge =\n      window && /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent);\n    if (isIEorEdge) {\n      this.mapInstance.setStyle(optionsWithAccessToken.style!);\n    }\n\n    this.subscription.add(\n      this.zone.onMicrotaskEmpty.subscribe(() => this.applyChanges())\n    );\n  }\n\n  private removeMarkers() {\n    for (const marker of this.markersToRemove) {\n      marker.remove();\n    }\n    this.markersToRemove = [];\n  }\n\n  private removePopups() {\n    for (const popup of this.popupsToRemove) {\n      popup.remove();\n    }\n    this.popupsToRemove = [];\n  }\n\n  private removeImages() {\n    for (const imageId of this.imageIdsToRemove) {\n      this.mapInstance.removeImage(imageId);\n    }\n    this.imageIdsToRemove = [];\n  }\n\n  private findLayersBySourceId(sourceId: string): Layer[] {\n    const layers = this.mapInstance.getStyle()?.layers;\n\n    if (layers == null) {\n      return [];\n    }\n\n    return layers.filter((l) =>\n      'source' in l ? l.source === sourceId : false\n    );\n  }\n\n  private hookEvents(events: MapEvent) {\n    this.mapInstance.on('load', (evt) => {\n      this.mapLoaded.next(undefined);\n      this.mapLoaded.complete();\n\n      this.zone.run(() => {\n        events.mapLoad.emit(evt);\n        events.load.emit(evt.target);\n      });\n    });\n\n    if (events.mapResize.observed) {\n      this.mapInstance.on('resize', (evt) =>\n        this.zone.run(() => {\n          events.mapResize.emit(evt);\n        })\n      );\n    }\n    if (events.mapRemove.observed) {\n      this.mapInstance.on('remove', (evt) =>\n        this.zone.run(() => {\n          events.mapRemove.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseDown.observed) {\n      this.mapInstance.on('mousedown', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseDown.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseUp.observed) {\n      this.mapInstance.on('mouseup', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseUp.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseMove.observed) {\n      this.mapInstance.on('mousemove', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseMove.emit(evt);\n        })\n      );\n    }\n    if (events.mapClick.observed) {\n      this.mapInstance.on('click', (evt) =>\n        this.zone.run(() => {\n          events.mapClick.emit(evt);\n        })\n      );\n    }\n    if (events.mapDblClick.observed) {\n      this.mapInstance.on('dblclick', (evt) =>\n        this.zone.run(() => {\n          events.mapDblClick.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseOver.observed) {\n      this.mapInstance.on('mouseover', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseOver.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseOut.observed) {\n      this.mapInstance.on('mouseout', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseOut.emit(evt);\n        })\n      );\n    }\n    if (events.mapContextMenu.observed) {\n      this.mapInstance.on('contextmenu', (evt) =>\n        this.zone.run(() => {\n          events.mapContextMenu.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchStart.observed) {\n      this.mapInstance.on('touchstart', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchStart.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchEnd.observed) {\n      this.mapInstance.on('touchend', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchEnd.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchMove.observed) {\n      this.mapInstance.on('touchmove', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchMove.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchCancel.observed) {\n      this.mapInstance.on('touchcancel', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchCancel.emit(evt);\n        })\n      );\n    }\n    if (events.mapWheel.observed) {\n      this.mapInstance.on('wheel', (evt) =>\n        this.zone.run(() => {\n          events.mapWheel.emit(evt);\n        })\n      );\n    }\n    if (events.moveStart.observed) {\n      this.mapInstance.on('movestart', (evt) =>\n        this.zone.run(() => events.moveStart.emit(evt))\n      );\n    }\n    if (events.move.observed) {\n      this.mapInstance.on('move', (evt) =>\n        this.zone.run(() => events.move.emit(evt))\n      );\n    }\n    if (events.moveEnd.observed) {\n      this.mapInstance.on('moveend', (evt) =>\n        this.zone.run(() => events.moveEnd.emit(evt))\n      );\n    }\n    if (events.mapDragStart.observed) {\n      this.mapInstance.on('dragstart', (evt) =>\n        this.zone.run(() => {\n          events.mapDragStart.emit(evt);\n        })\n      );\n    }\n    if (events.mapDrag.observed) {\n      this.mapInstance.on('drag', (evt) =>\n        this.zone.run(() => {\n          events.mapDrag.emit(evt);\n        })\n      );\n    }\n    if (events.mapDragEnd.observed) {\n      this.mapInstance.on('dragend', (evt) =>\n        this.zone.run(() => {\n          events.mapDragEnd.emit(evt);\n        })\n      );\n    }\n    if (events.zoomStart.observed) {\n      this.mapInstance.on('zoomstart', (evt) =>\n        this.zone.run(() => events.zoomStart.emit(evt))\n      );\n    }\n    if (events.zoomEvt.observed) {\n      this.mapInstance.on('zoom', (evt) =>\n        this.zone.run(() => events.zoomEvt.emit(evt))\n      );\n    }\n    if (events.zoomEnd.observed) {\n      this.mapInstance.on('zoomend', (evt) =>\n        this.zone.run(() => events.zoomEnd.emit(evt))\n      );\n    }\n    if (events.rotateStart.observed) {\n      this.mapInstance.on('rotatestart', (evt) =>\n        this.zone.run(() => events.rotateStart.emit(evt))\n      );\n    }\n    if (events.rotate.observed) {\n      this.mapInstance.on('rotate', (evt) =>\n        this.zone.run(() => events.rotate.emit(evt))\n      );\n    }\n    if (events.rotateEnd.observed) {\n      this.mapInstance.on('rotateend', (evt) =>\n        this.zone.run(() => events.rotateEnd.emit(evt))\n      );\n    }\n    if (events.pitchStart.observed) {\n      this.mapInstance.on('pitchstart', (evt) =>\n        this.zone.run(() => events.pitchStart.emit(evt))\n      );\n    }\n    if (events.pitchEvt.observed) {\n      this.mapInstance.on('pitch', (evt) =>\n        this.zone.run(() => events.pitchEvt.emit(evt))\n      );\n    }\n    if (events.pitchEnd.observed) {\n      this.mapInstance.on('pitchend', (evt) =>\n        this.zone.run(() => events.pitchEnd.emit(evt))\n      );\n    }\n    if (events.boxZoomStart.observed) {\n      this.mapInstance.on('boxzoomstart', (evt) =>\n        this.zone.run(() => events.boxZoomStart.emit(evt))\n      );\n    }\n    if (events.boxZoomEnd.observed) {\n      this.mapInstance.on('boxzoomend', (evt) =>\n        this.zone.run(() => events.boxZoomEnd.emit(evt))\n      );\n    }\n    if (events.boxZoomCancel.observed) {\n      this.mapInstance.on('boxzoomcancel', (evt) =>\n        this.zone.run(() => events.boxZoomCancel.emit(evt))\n      );\n    }\n    if (events.webGlContextLost.observed) {\n      this.mapInstance.on('webglcontextlost', (evt) =>\n        this.zone.run(() => events.webGlContextLost.emit(evt))\n      );\n    }\n    if (events.webGlContextRestored.observed) {\n      this.mapInstance.on('webglcontextrestored', (evt) =>\n        this.zone.run(() => events.webGlContextRestored.emit(evt))\n      );\n    }\n    if (events.render.observed) {\n      this.mapInstance.on('render', (evt) =>\n        this.zone.run(() => events.render.emit(evt))\n      );\n    }\n    if (events.mapError.observed) {\n      this.mapInstance.on('error', (evt) =>\n        this.zone.run(() => events.mapError.emit(evt))\n      );\n    }\n    if (events.data.observed) {\n      this.mapInstance.on('data', (evt) =>\n        this.zone.run(() => events.data.emit(evt))\n      );\n    }\n    if (events.styleData.observed) {\n      this.mapInstance.on('styledata', (evt) =>\n        this.zone.run(() => events.styleData.emit(evt))\n      );\n    }\n    if (events.sourceData.observed) {\n      this.mapInstance.on('sourcedata', (evt) =>\n        this.zone.run(() => events.sourceData.emit(evt))\n      );\n    }\n    if (events.dataLoading.observed) {\n      this.mapInstance.on('dataloading', (evt) =>\n        this.zone.run(() => events.dataLoading.emit(evt))\n      );\n    }\n    if (events.styleDataLoading.observed) {\n      this.mapInstance.on('styledataloading', (evt) =>\n        this.zone.run(() => events.styleDataLoading.emit(evt))\n      );\n    }\n    if (events.sourceDataLoading.observed) {\n      this.mapInstance.on('sourcedataloading', (evt) =>\n        this.zone.run(() => events.sourceDataLoading.emit(evt))\n      );\n    }\n    if (events.styleImageMissing.observed) {\n      this.mapInstance.on('styleimagemissing', (evt) =>\n        this.zone.run(() => events.styleImageMissing.emit(evt))\n      );\n    }\n    if (events.idle.observed) {\n      this.mapInstance.on('idle', (evt) =>\n        this.zone.run(() => events.idle.emit(evt))\n      );\n    }\n  }\n\n  // TODO move this elsewhere\n  private assign(obj: any, prop: any, value: any) {\n    if (typeof prop === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      prop = prop.split('.');\n    }\n    if (prop.length > 1) {\n      const e = prop.shift();\n      this.assign(\n        (obj[e] =\n          Object.prototype.toString.call(obj[e]) === '[object Object]'\n            ? obj[e]\n            : {}),\n        prop,\n        value\n      );\n    } else {\n      obj[prop[0]] = value;\n    }\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  ViewChild,\n} from '@angular/core';\nimport { ControlPosition, IControl } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\n\nexport class CustomControl implements IControl {\n\n  constructor(private container: HTMLElement) { }\n\n  onAdd() {\n    return this.container;\n  }\n\n  onRemove() {\n    return this.container.parentNode!.removeChild(this.container);\n  }\n\n  getDefaultPosition(): ControlPosition {\n    return 'top-right';\n  }\n}\n\n@Component({\n  selector: 'mgl-control',\n  template:\n    '<div class=\"mapboxgl-ctrl\" #content><ng-content></ng-content></div>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ControlComponent<T extends IControl>\n  implements OnDestroy, AfterContentInit {\n  /* Init inputs */\n  @Input() position?: ControlPosition;\n\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  control: T | CustomControl;\n\n  private controlAdded = false;\n\n  constructor(private mapService: MapService) { }\n\n  ngAfterContentInit() {\n    if (this.content.nativeElement.childNodes.length) {\n      this.control = new CustomControl(this.content.nativeElement);\n      this.mapService.mapCreated$.subscribe(() => {\n        this.mapService.addControl(this.control!, this.position);\n        this.controlAdded = true;\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.controlAdded) {\n      this.mapService.removeControl(this.control);\n    }\n  }\n}\n","import { AfterContentInit, Directive, Host, Input } from '@angular/core';\nimport { AttributionControl } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n@Directive({\n  selector: '[mglAttribution]',\n})\nexport class AttributionControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() compact?: boolean;\n  @Input() customAttribution?: string | string[];\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<AttributionControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options: {\n        compact?: boolean;\n        customAttribution?: string | string[];\n      } = {};\n      if (this.compact !== undefined) {\n        options.compact = this.compact;\n      }\n      if (this.customAttribution !== undefined) {\n        options.customAttribution = this.customAttribution;\n      }\n      this.controlComponent.control = new AttributionControl(options);\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  Host,\n  HostListener,\n  Input,\n} from '@angular/core';\nimport { FullscreenControl } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n@Directive({\n  selector: '[mglFullscreen]',\n})\nexport class FullscreenControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() container?: HTMLElement;\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<FullscreenControl>\n  ) {}\n\n  @HostListener('window:webkitfullscreenchange', ['$event.target'])\n  onFullscreen() {\n    this.mapService.mapInstance.resize();\n  }\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      this.controlComponent.control = new FullscreenControl({\n        container: this.container,\n      });\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  EventEmitter,\n  Host,\n  Input,\n  Output,\n} from '@angular/core';\nimport { FitBoundsOptions, GeolocateControl } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { Position } from '../map/map.types';\nimport { ControlComponent } from './control.component';\n\n@Directive({\n  selector: '[mglGeolocate]',\n})\nexport class GeolocateControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() positionOptions?: PositionOptions;\n  @Input() fitBoundsOptions?: FitBoundsOptions;\n  @Input() trackUserLocation?: boolean;\n  @Input() showUserLocation?: boolean;\n  @Input() showUserHeading?: boolean;\n\n  @Output()\n  geolocate: EventEmitter<Position> = new EventEmitter<Position>();\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<GeolocateControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {\n        positionOptions: this.positionOptions,\n        fitBoundsOptions: this.fitBoundsOptions,\n        trackUserLocation: this.trackUserLocation,\n        showUserLocation: this.showUserLocation,\n        showUserHeading: this.showUserHeading,\n      };\n\n      Object.keys(options).forEach((key: string) => {\n        const tkey = key as keyof typeof options;\n        if (options[tkey] === undefined) {\n          delete options[tkey];\n        }\n      });\n      this.controlComponent.control = new GeolocateControl(options);\n      this.controlComponent.control.on('geolocate', (data) => {\n        this.geolocate.emit(data as Position);\n      });\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import { AfterContentInit, Directive, Host, Input } from '@angular/core';\nimport { NavigationControl } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n@Directive({\n  selector: '[mglNavigation]',\n})\nexport class NavigationControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() showCompass?: boolean;\n  @Input() showZoom?: boolean;\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<NavigationControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options: { showCompass?: boolean; showZoom?: boolean } = {};\n      if (this.showCompass !== undefined) {\n        options.showCompass = this.showCompass;\n      }\n      if (this.showZoom !== undefined) {\n        options.showZoom = this.showZoom;\n      }\n      this.controlComponent.control = new NavigationControl(options);\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  Host,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { ScaleControl, ScaleControlOptions } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n@Directive({\n  selector: '[mglScale]',\n})\nexport class ScaleControlDirective implements AfterContentInit, OnChanges {\n\n  /* Init inputs */\n  @Input() maxWidth?: ScaleControlOptions['maxWidth'];\n\n  /* Dynamic inputs */\n  @Input() unit?: ScaleControlOptions['unit'];\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<ScaleControl>\n  ) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['unit'] && !changes['unit'].isFirstChange()) {\n      (this.controlComponent.control as ScaleControl).setUnit(changes['unit'].currentValue);\n    }\n  }\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options: ScaleControlOptions = {};\n\n      if (this.maxWidth !== undefined) {\n        options.maxWidth = this.maxWidth;\n      }\n      if (this.unit !== undefined) {\n        options.unit = this.unit;\n      }\n\n      this.controlComponent.control = new ScaleControl(options);\n\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport {\n  Layer,\n  MapMouseEvent,\n  MapTouchEvent,\n  SourceSpecification,\n} from 'mapbox-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, mapTo, startWith, switchMap } from 'rxjs/operators';\nimport { MapService, SetupLayer } from '../map/map.service';\nimport { LayerEvents } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-layer',\n  template: '',\n})\nexport class LayerComponent\n  implements OnInit, OnDestroy, OnChanges, Omit<Layer, 'source'>, LayerEvents {\n\n  /* Init inputs */\n  @Input() id: Layer['id'];\n  @Input() source?: SourceSpecification | Layer['source'];\n  @Input() type: Layer['type'];\n  @Input() metadata?: Layer['metadata'];\n  @Input() sourceLayer?: Layer['source-layer'];\n\n  /* Dynamic inputs */\n  @Input() filter?: Layer['filter'];\n  @Input() layout?: Layer['layout'];\n  @Input() paint?: Layer['paint'];\n  @Input() before?: string;\n  @Input() minzoom?: Layer['minzoom'];\n  @Input() maxzoom?: Layer['maxzoom'];\n\n  @Output() layerClick = new EventEmitter<MapMouseEvent>();\n  @Output() layerDblClick = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseDown = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseUp = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseEnter = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseLeave = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseMove = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseOver = new EventEmitter<MapMouseEvent>();\n  @Output() layerMouseOut = new EventEmitter<MapMouseEvent>();\n  @Output() layerContextMenu = new EventEmitter<MapMouseEvent>();\n  @Output() layerTouchStart = new EventEmitter<MapTouchEvent>();\n  @Output() layerTouchEnd = new EventEmitter<MapTouchEvent>();\n  @Output() layerTouchCancel = new EventEmitter<MapTouchEvent>();\n\n  private layerAdded = false;\n  private sub: Subscription;\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$\n      .pipe(\n        switchMap(() =>\n          fromEvent(this.mapService.mapInstance, 'styledata').pipe(\n            mapTo(false),\n            filter(() => !this.mapService.mapInstance.getLayer(this.id)),\n            startWith(true)\n          )\n        )\n      )\n      .subscribe((bindEvents: boolean) => this.init(bindEvents));\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.layerAdded) {\n      return;\n    }\n    if (changes['paint'] && !changes['paint'].isFirstChange()) {\n      this.mapService.setAllLayerPaintProperty(\n        this.id,\n        changes['paint'].currentValue!\n      );\n    }\n    if (changes['layout'] && !changes['layout'].isFirstChange()) {\n      this.mapService.setAllLayerLayoutProperty(\n        this.id,\n        changes['layout'].currentValue!\n      );\n    }\n    if (changes['filter'] && !changes['filter'].isFirstChange()) {\n      this.mapService.setLayerFilter(this.id, changes['filter'].currentValue!);\n    }\n    if (changes['before'] && !changes['before'].isFirstChange()) {\n      this.mapService.setLayerBefore(this.id, changes['before'].currentValue!);\n    }\n    if (\n      (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n      (changes['maxzoom'] && !changes['maxzoom'].isFirstChange())\n    ) {\n      this.mapService.setLayerZoomRange(this.id, this.minzoom, this.maxzoom);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.layerAdded) {\n      this.mapService.removeLayer(this.id);\n\n      const inlineLayerSourceId = `${this.id}___source___`;\n      const inlineLayerSource = this.mapService.getSource(inlineLayerSourceId);\n\n      if (inlineLayerSource) {\n        this.mapService.removeSource(inlineLayerSourceId);\n      }\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  get inlineLayerSourceId() {\n    return `${this.id}___source___`;\n  }\n\n  private init(bindEvents: boolean) {\n    let source: Layer['source'];\n\n    if (typeof this.source === 'object') {\n      const tempSourceId = `${this.id}___source___`;\n      this.mapService.addSource(tempSourceId, this.source);\n      source = tempSourceId;\n    } else {\n      source = this.source!;\n    }\n\n    const layer: SetupLayer = {\n      layerOptions: {\n        id: this.id,\n        type: this.type as any,\n        source,\n        metadata: this.metadata,\n        'source-layer': this.sourceLayer,\n        minzoom: this.minzoom,\n        maxzoom: this.maxzoom,\n        filter: this.filter,\n        layout: this.layout,\n        paint: this.paint,\n      },\n      layerEvents: {\n        layerClick: this.layerClick,\n        layerDblClick: this.layerDblClick,\n        layerMouseDown: this.layerMouseDown,\n        layerMouseUp: this.layerMouseUp,\n        layerMouseEnter: this.layerMouseEnter,\n        layerMouseLeave: this.layerMouseLeave,\n        layerMouseMove: this.layerMouseMove,\n        layerMouseOver: this.layerMouseOver,\n        layerMouseOut: this.layerMouseOut,\n        layerContextMenu: this.layerContextMenu,\n        layerTouchStart: this.layerTouchStart,\n        layerTouchEnd: this.layerTouchEnd,\n        layerTouchCancel: this.layerTouchCancel\n      },\n    };\n\n    this.mapService.addLayer(layer, bindEvents, this.before);\n    this.layerAdded = true;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport {\n  GeoJSONSource,\n  GeoJSONSourceSpecification\n} from 'mapbox-gl';\nimport { fromEvent, Subject, Subscription } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { MapService } from '../../map/map.service';\nimport { GeoJSONSourceOptions } from '../../map/map.types';\n\n@Component({\n  selector: 'mgl-geojson-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class GeoJSONSourceComponent\n  implements OnInit, OnDestroy, OnChanges, GeoJSONSourceOptions {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() data?: GeoJSONSourceOptions['data'];\n  @Input() maxzoom?: GeoJSONSourceOptions['maxzoom'];\n  @Input() attribution?: GeoJSONSourceOptions['attribution'];\n  @Input() buffer?: GeoJSONSourceOptions['buffer'];\n  @Input() tolerance?: GeoJSONSourceOptions['tolerance'];\n  @Input() cluster?: GeoJSONSourceOptions['cluster'];\n  @Input() clusterRadius?: GeoJSONSourceOptions['clusterRadius'];\n  @Input() clusterMaxZoom?: GeoJSONSourceOptions['clusterMaxZoom'];\n  @Input() clusterMinPoints?: GeoJSONSourceOptions['clusterMinPoints'];\n  @Input() clusterProperties?: GeoJSONSourceOptions['clusterProperties'];\n  @Input() lineMetrics?: GeoJSONSourceOptions['lineMetrics'];\n  @Input() generateId?: GeoJSONSourceOptions['generateId'];\n  @Input() promoteId?: GeoJSONSourceOptions['promoteId'];\n  @Input() filter?: GeoJSONSourceOptions['filter'];\n\n  updateFeatureData = new Subject();\n\n  private sub = new Subscription();\n  private sourceAdded = false;\n  private featureIdCounter = 0;\n\n  constructor(private mapService: MapService, private zone: NgZone) { }\n\n  ngOnInit() {\n    if (!this.data) {\n      this.data = {\n        type: 'FeatureCollection',\n        features: [],\n      };\n    }\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n      (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n      (changes['buffer'] && !changes['buffer'].isFirstChange()) ||\n      (changes['tolerance'] && !changes['tolerance'].isFirstChange()) ||\n      (changes['cluster'] && !changes['cluster'].isFirstChange()) ||\n      (changes['clusterRadius'] && !changes['clusterRadius'].isFirstChange()) ||\n      (changes['clusterMaxZoom'] &&\n        !changes['clusterMaxZoom'].isFirstChange()) ||\n      (changes['clusterMinPoints'] &&\n        !changes['clusterMinPoints'].isFirstChange()) ||\n      (changes['clusterProperties'] &&\n        !changes['clusterProperties'].isFirstChange()) ||\n      (changes['lineMetrics'] && !changes['lineMetrics'].isFirstChange()) ||\n      (changes['generateId'] && !changes['generateId'].isFirstChange()) ||\n      (changes['promoteId'] && !changes['promoteId'].isFirstChange()) ||\n      (changes['filter'] && !changes['filter'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n    if (changes['data'] && !changes['data'].isFirstChange()) {\n      const source = this.mapService.getSource<GeoJSONSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data!);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  /**\n   * For clustered sources, fetches the zoom at which the given cluster expands.\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  async getClusterExpansionZoom(clusterId: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(\n      async () =>\n        new Promise<number>((resolve, reject) => {\n          source.getClusterExpansionZoom(clusterId, (error, zoom) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve(zoom!);\n            }\n          });\n        })\n    );\n  }\n\n  /**\n   * For clustered sources, fetches the children of the given cluster on the next zoom level (as an array of GeoJSON features).\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  async getClusterChildren(clusterId: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(\n      async () =>\n        new Promise<GeoJSON.Feature<GeoJSON.Geometry>[]>((resolve, reject) => {\n          source.getClusterChildren(clusterId, (error, features) => {\n            if (error) {\n              reject(error);\n            } else {\n              resolve(features!);\n            }\n          });\n        })\n    );\n  }\n\n  /**\n   * For clustered sources, fetches the original points that belong to the cluster (as an array of GeoJSON features).\n   *\n   * @param clusterId The value of the cluster's cluster_id property.\n   * @param limit The maximum number of features to return.\n   * @param offset The number of features to skip (e.g. for pagination).\n   */\n  async getClusterLeaves(clusterId: number, limit: number, offset: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(\n      async () =>\n        new Promise<GeoJSON.Feature<GeoJSON.Geometry>[]>((resolve, reject) => {\n          source.getClusterLeaves(\n            clusterId,\n            limit,\n            offset,\n            (error, features) => {\n              if (error) {\n                reject(error);\n              } else {\n                resolve(features!);\n              }\n            }\n          );\n        })\n    );\n  }\n\n  _addFeature(feature: GeoJSON.Feature<GeoJSON.GeometryObject>) {\n    const collection = this\n      .data as GeoJSON.FeatureCollection<GeoJSON.GeometryObject>;\n    collection.features.push(feature);\n    this.updateFeatureData.next(null);\n  }\n\n  _removeFeature(feature: GeoJSON.Feature<GeoJSON.GeometryObject>) {\n    const collection = this\n      .data as GeoJSON.FeatureCollection<GeoJSON.GeometryObject>;\n    const index = collection.features.indexOf(feature);\n    if (index > -1) {\n      collection.features.splice(index, 1);\n    }\n    this.updateFeatureData.next(null);\n  }\n\n  _getNewFeatureId() {\n    return ++this.featureIdCounter;\n  }\n\n  private init() {\n    const source: GeoJSONSourceSpecification = {\n      type: 'geojson',\n      data: this.data,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      buffer: this.buffer,\n      tolerance: this.tolerance,\n      cluster: this.cluster,\n      clusterRadius: this.clusterRadius,\n      clusterMaxZoom: this.clusterMaxZoom,\n      clusterMinPoints: this.clusterMinPoints,\n      clusterProperties: this.clusterProperties,\n      lineMetrics: this.lineMetrics,\n      generateId: this.generateId,\n      promoteId: this.promoteId,\n      filter: this.filter,\n    };\n    this.mapService.addSource(this.id, source);\n    const sub = this.updateFeatureData.pipe(debounceTime(0)).subscribe(() => {\n      const source = this.mapService.getSource<GeoJSONSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data!);\n    });\n    this.sub.add(sub);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  forwardRef,\n} from '@angular/core';\nimport { GeoJSONSourceComponent } from './geojson-source.component';\n\n@Component({\n  selector: 'mgl-feature',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FeatureComponent\n  implements OnInit, OnDestroy, GeoJSON.Feature<GeoJSON.GeometryObject>\n{\n  /* Init inputs */\n  @Input() id?: number; // FIXME number only for now https://github.com/mapbox/mapbox-gl-js/issues/2716\n  @Input() geometry: GeoJSON.GeometryObject;\n  @Input() properties: any;\n  type = 'Feature' as const;\n\n  private feature: GeoJSON.Feature<GeoJSON.GeometryObject>;\n\n  constructor(\n    @Inject(forwardRef(() => GeoJSONSourceComponent))\n    private GeoJSONSourceComponent: GeoJSONSourceComponent\n  ) {}\n\n  ngOnInit() {\n    if (!this.id) {\n      this.id = this.GeoJSONSourceComponent._getNewFeatureId();\n    }\n    this.feature = {\n      type: this.type,\n      geometry: this.geometry,\n      properties: this.properties ? this.properties : {},\n    };\n    this.feature.id = this.id;\n    this.GeoJSONSourceComponent._addFeature(this.feature);\n  }\n\n  ngOnDestroy() {\n    this.GeoJSONSourceComponent._removeFeature(this.feature);\n  }\n\n  updateCoordinates(coordinates: number[]) {\n    (this.feature.geometry as GeoJSON.Point).coordinates = coordinates;\n    this.GeoJSONSourceComponent.updateFeatureData.next(null);\n  }\n}\n","export const deprecationWarning = (\n  context: string,\n  oldApi: string,\n  newApi: string\n) => {\n  console.warn(\n    `[ngx-mapbox-gl]: ${context}: ${oldApi} is deprecated, please use ${newApi} instead.`\n  );\n};\n","import {\n  Directive,\n  EventEmitter,\n  Host,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n} from '@angular/core';\nimport { MapMouseEvent } from 'mapbox-gl';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { LayerComponent } from '../layer/layer.component';\nimport { MapService } from '../map/map.service';\nimport { FeatureComponent } from '../source/geojson/feature.component';\nimport { deprecationWarning } from '../utils';\n\n@Directive({\n  selector: '[mglDraggable]',\n})\nexport class DraggableDirective implements OnInit, OnDestroy {\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('mglDraggable') layer?: LayerComponent;\n\n  @Output() featureDragStart = new EventEmitter<MapMouseEvent>();\n  @Output() featureDragEnd = new EventEmitter<MapMouseEvent>();\n  @Output() featureDrag = new EventEmitter<MapMouseEvent>();\n  /**\n   * @deprecated Use featureDragStart instead\n   */\n  @Output() dragStart = new EventEmitter<MapMouseEvent>();\n  /**\n   * @deprecated Use featureDragEnd instead\n   */\n  @Output() dragEnd = new EventEmitter<MapMouseEvent>();\n  /**\n   * @deprecated Use featureDrag instead\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() drag = new EventEmitter<MapMouseEvent>();\n\n  private sub = new Subscription();\n\n  constructor(\n    private mapService: MapService,\n    private ngZone: NgZone,\n    @Optional() @Host() private featureComponent?: FeatureComponent\n  ) {}\n\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    let enter$;\n    let leave$;\n    let updateCoords;\n    if (this.featureComponent && this.layer) {\n      enter$ = this.layer.layerMouseEnter;\n      leave$ = this.layer.layerMouseLeave;\n      updateCoords = this.featureComponent.updateCoordinates.bind(\n        this.featureComponent\n      );\n      if (this.featureComponent.geometry.type !== 'Point') {\n        throw new Error('mglDraggable only support point feature');\n      }\n    } else {\n      throw new Error(\n        'mglDraggable can only be used on Feature (with a layer as input) or Marker'\n      );\n    }\n\n    this.handleDraggable(enter$, leave$, updateCoords);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  private handleDraggable(\n    enter$: Observable<MapMouseEvent>,\n    leave$: Observable<MapMouseEvent>,\n    updateCoords: (coord: number[]) => void\n  ) {\n    let moving = false;\n    let inside = false;\n    this.mapService.mapCreated$.subscribe(() => {\n      const mouseUp$ = fromEvent<MapMouseEvent>(\n        this.mapService.mapInstance,\n        'mouseup'\n      );\n      const dragStart$ = enter$.pipe(\n        filter(() => !moving),\n        filter((evt) => this.filterFeature(evt)),\n        tap(() => {\n          inside = true;\n          this.mapService.changeCanvasCursor('move');\n          this.mapService.updateDragPan(false);\n        }),\n        switchMap(() =>\n          fromEvent<MapMouseEvent>(\n            this.mapService.mapInstance,\n            'mousedown'\n          ).pipe(takeUntil(leave$))\n        )\n      );\n      const dragging$ = dragStart$.pipe(\n        switchMap(() =>\n          fromEvent<MapMouseEvent>(\n            this.mapService.mapInstance,\n            'mousemove'\n          ).pipe(takeUntil(mouseUp$))\n        )\n      );\n      const dragEnd$ = dragStart$.pipe(switchMap(() => mouseUp$.pipe(take(1))));\n      this.sub.add(\n        dragStart$.subscribe((evt) => {\n          moving = true;\n          if (this.featureDragStart.observed || this.dragStart.observed) {\n            this.ngZone.run(() => {\n              this.featureDragStart.emit(evt);\n              this.dragStart.emit(evt);\n            });\n          }\n        })\n      );\n      this.sub.add(\n        dragging$.subscribe((evt) => {\n          updateCoords([evt.lngLat.lng, evt.lngLat.lat]);\n          if (this.featureDrag.observed || this.drag.observed) {\n            this.ngZone.run(() => {\n              this.featureDrag.emit(evt);\n              this.drag.emit(evt);\n            });\n          }\n        })\n      );\n      this.sub.add(\n        dragEnd$.subscribe((evt) => {\n          moving = false;\n          if (this.featureDragEnd.observed || this.dragEnd.observed) {\n            this.ngZone.run(() => {\n              this.featureDragEnd.emit(evt);\n              this.dragEnd.emit(evt);\n            });\n          }\n          if (!inside) {\n            // It's possible to dragEnd outside the target (small input lag)\n            this.mapService.changeCanvasCursor('');\n            this.mapService.updateDragPan(true);\n          }\n        })\n      );\n      this.sub.add(\n        leave$\n          .pipe(\n            tap(() => (inside = false)),\n            filter(() => !moving)\n          )\n          .subscribe(() => {\n            this.mapService.changeCanvasCursor('');\n            this.mapService.updateDragPan(true);\n          })\n      );\n    });\n  }\n\n  private filterFeature(evt: MapMouseEvent) {\n    if (this.featureComponent && this.layer) {\n      const feature: GeoJSON.Feature<any> =\n        this.mapService.queryRenderedFeatures(evt.point, {\n          layers: [this.layer.id],\n          filter: [\n            'all',\n            ['==', '$type', 'Point'],\n            ['==', '$id', this.featureComponent.id],\n          ],\n        })[0];\n      if (!feature) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, DraggableDirective.name);\n    if (this.dragStart.observed) {\n      dw('dragStart', 'featureDragStart');\n    }\n    if (this.dragEnd.observed) {\n      dw('dragEnd', 'featureDragEnd');\n    }\n    if (this.drag.observed) {\n      dw('drag', 'featureDrag');\n    }\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, startWith, switchMap } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { MapImageData, MapImageOptions } from '../map/map.types';\nimport { deprecationWarning } from '../utils';\n\n@Component({\n  selector: 'mgl-image',\n  template: '',\n})\nexport class ImageComponent implements OnInit, OnDestroy, OnChanges {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() data?: MapImageData;\n  @Input() options?: MapImageOptions;\n  @Input() url?: string;\n\n  @Output() imageError = new EventEmitter<{ status: number }>();\n  @Output() imageLoaded = new EventEmitter<void>();\n  /**\n   * @deprecated Use imageError instead\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() error = new EventEmitter<{ status: number }>();\n  /**\n   * @deprecated Use imageLoaded instead\n   */\n  @Output() loaded = new EventEmitter<void>();\n\n  private isAdded = false;\n  private isAdding = false;\n  private sub: Subscription;\n\n  constructor(private mapService: MapService, private zone: NgZone) {}\n\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    this.sub = this.mapService.mapLoaded$\n      .pipe(\n        switchMap(() =>\n          fromEvent(this.mapService.mapInstance, 'styledata').pipe(\n            startWith(undefined),\n            filter(\n              () =>\n                !this.isAdding && !this.mapService.mapInstance.hasImage(this.id)\n            )\n          )\n        )\n      )\n      .subscribe(() => this.init());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      (changes['data'] && !changes['data'].isFirstChange()) ||\n      (changes['options'] && !changes['options'].isFirstChange()) ||\n      (changes['url'] && !changes['url'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.isAdded) {\n      this.mapService.removeImage(this.id);\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  private async init() {\n    this.isAdding = true;\n    if (this.data) {\n      this.mapService.addImage(this.id, this.data, this.options);\n      this.isAdded = true;\n      this.isAdding = false;\n    } else if (this.url) {\n      try {\n        await this.mapService.loadAndAddImage(this.id, this.url, this.options);\n        this.isAdded = true;\n        this.isAdding = false;\n        this.zone.run(() => {\n          this.imageLoaded.emit();\n          this.loaded.emit();\n        });\n      } catch (error: any) {\n        this.zone.run(() => {\n          this.imageError.emit(error);\n          this.error.emit(error);\n        });\n      }\n    }\n  }\n\n  private warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, ImageComponent.name);\n    if (this.error.observed) {\n      dw('error', 'imageError');\n    }\n    if (this.loaded.observed) {\n      dw('loaded', 'imageLoaded');\n    }\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport {\n  AnimationOptions,\n  LngLatBoundsLike,\n  Map,\n  MapOptions,\n  PointLike,\n  MapEventOf,\n} from 'mapbox-gl';\nimport { lastValueFrom } from 'rxjs';\nimport { MapService, MovingOptions } from './map.service';\nimport { MapEvent } from './map.types';\n\n@Component({\n  selector: 'mgl-map',\n  template: '<div #container></div>',\n  styles: [\n    `\n      :host {\n        display: block;\n      }\n      div {\n        height: 100%;\n        width: 100%;\n      }\n    `,\n  ],\n  providers: [MapService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MapComponent\n  implements\n  OnChanges,\n  OnDestroy,\n  AfterViewInit,\n  Omit<MapOptions, 'bearing' | 'container' | 'pitch' | 'zoom'>,\n  MapEvent {\n  /* Init inputs */\n  @Input() accessToken?: MapOptions['accessToken'];\n  @Input() collectResourceTiming?: MapOptions['collectResourceTiming'];\n  @Input() crossSourceCollisions?: MapOptions['crossSourceCollisions'];\n  @Input() customMapboxApiUrl?: string;\n  @Input() fadeDuration?: MapOptions['fadeDuration'];\n  @Input() hash?: MapOptions['hash'];\n  @Input() refreshExpiredTiles?: MapOptions['refreshExpiredTiles'];\n  @Input() failIfMajorPerformanceCaveat?: MapOptions['failIfMajorPerformanceCaveat'];\n  @Input() bearingSnap?: MapOptions['bearingSnap'];\n  @Input() interactive?: MapOptions['interactive'];\n  @Input() pitchWithRotate?: MapOptions['pitchWithRotate'];\n  @Input() clickTolerance?: MapOptions['clickTolerance'];\n  @Input() attributionControl?: MapOptions['attributionControl'];\n  @Input() logoPosition?: MapOptions['logoPosition'];\n  @Input() maxTileCacheSize?: MapOptions['maxTileCacheSize'];\n  @Input() localIdeographFontFamily?: MapOptions['localIdeographFontFamily'];\n  @Input() preserveDrawingBuffer?: MapOptions['preserveDrawingBuffer'];\n  @Input() trackResize?: MapOptions['trackResize'];\n  @Input() transformRequest?: MapOptions['transformRequest'];\n  @Input() bounds?: MapOptions['bounds']; // Use fitBounds for dynamic input\n  @Input() antialias?: MapOptions['antialias'];\n  @Input() locale?: MapOptions['locale'];\n  @Input() cooperativeGestures?: MapOptions['cooperativeGestures'];\n\n  /* Dynamic inputs */\n  @Input() minZoom?: MapOptions['minZoom'];\n  @Input() maxZoom?: MapOptions['maxZoom'];\n  @Input() minPitch?: MapOptions['minPitch'];\n  @Input() maxPitch?: MapOptions['maxPitch'];\n  @Input() scrollZoom?: MapOptions['scrollZoom'];\n  @Input() dragRotate?: MapOptions['dragRotate'];\n  @Input() touchPitch?: MapOptions['touchPitch'];\n  @Input() touchZoomRotate?: MapOptions['touchZoomRotate'];\n  @Input() doubleClickZoom?: MapOptions['doubleClickZoom'];\n  @Input() keyboard?: MapOptions['keyboard'];\n  @Input() dragPan?: MapOptions['dragPan'];\n  @Input() boxZoom?: MapOptions['boxZoom'];\n  @Input() style: MapOptions['style'];\n  @Input() center?: MapOptions['center'];\n  @Input() maxBounds?: MapOptions['maxBounds'];\n  @Input() zoom?: MapOptions['zoom'];\n  @Input() bearing?: MapOptions['bearing'];\n  @Input() pitch?: MapOptions['bearing'];\n  // First value goes to options.fitBoundsOptions. Subsequents changes are passed to fitBounds\n  @Input() fitBoundsOptions?: MapOptions['fitBoundsOptions'];\n  @Input() renderWorldCopies?: MapOptions['renderWorldCopies'];\n  @Input() projection?: MapOptions['projection'];\n\n  /* Added by ngx-mapbox-gl */\n  @Input() movingMethod: 'jumpTo' | 'easeTo' | 'flyTo' = 'flyTo';\n  @Input() movingOptions?: MovingOptions;\n  // => First value is a alias to bounds input (since mapbox 0.53.0). Subsequents changes are passed to fitBounds\n  @Input() fitBounds?: LngLatBoundsLike;\n  @Input() fitScreenCoordinates?: [PointLike, PointLike];\n  @Input() centerWithPanTo?: boolean;\n  @Input() panToOptions?: AnimationOptions;\n  @Input() cursorStyle?: string;\n\n  @Output() mapResize = new EventEmitter<MapEventOf<'resize'>>();\n  @Output() mapRemove = new EventEmitter<MapEventOf<'remove'>>();\n  @Output() mapMouseDown = new EventEmitter<MapEventOf<'mousedown'>>();\n  @Output() mapMouseUp = new EventEmitter<MapEventOf<'mouseup'>>();\n  @Output() mapMouseMove = new EventEmitter<MapEventOf<'mousemove'>>();\n  @Output() mapClick = new EventEmitter<MapEventOf<'click'>>();\n  @Output() mapDblClick = new EventEmitter<MapEventOf<'dblclick'>>();\n  @Output() mapMouseOver = new EventEmitter<MapEventOf<'mouseover'>>();\n  @Output() mapMouseOut = new EventEmitter<MapEventOf<'mouseout'>>();\n  @Output() mapContextMenu = new EventEmitter<MapEventOf<'contextmenu'>>();\n  @Output() mapTouchStart = new EventEmitter<MapEventOf<'touchstart'>>();\n  @Output() mapTouchEnd = new EventEmitter<MapEventOf<'touchend'>>();\n  @Output() mapTouchMove = new EventEmitter<MapEventOf<'touchmove'>>();\n  @Output() mapTouchCancel = new EventEmitter<MapEventOf<'touchcancel'>>();\n  @Output() mapWheel = new EventEmitter<MapEventOf<'wheel'>>();\n  @Output() moveStart = new EventEmitter<MapEventOf<'movestart'>>();\n  @Output() move = new EventEmitter<MapEventOf<'move'>>();\n  @Output() moveEnd = new EventEmitter<MapEventOf<'moveend'>>();\n  @Output() mapDragStart = new EventEmitter<MapEventOf<'dragstart'>>();\n  @Output() mapDrag = new EventEmitter<MapEventOf<'drag'>>();\n  @Output() mapDragEnd = new EventEmitter<MapEventOf<'dragend'>>();\n  @Output() zoomStart = new EventEmitter<MapEventOf<'zoomstart'>>();\n  @Output() zoomEvt = new EventEmitter<MapEventOf<'zoom'>>();\n  @Output() zoomEnd = new EventEmitter<MapEventOf<'zoomend'>>();\n  @Output() rotateStart = new EventEmitter<MapEventOf<'rotatestart'>>();\n  @Output() rotate = new EventEmitter<MapEventOf<'rotate'>>();\n  @Output() rotateEnd = new EventEmitter<MapEventOf<'rotateend'>>();\n  @Output() pitchStart = new EventEmitter<MapEventOf<'pitchstart'>>();\n  @Output() pitchEvt = new EventEmitter<MapEventOf<'pitch'>>();\n  @Output() pitchEnd = new EventEmitter<MapEventOf<'pitchend'>>();\n  @Output() boxZoomStart = new EventEmitter<MapEventOf<'boxzoomstart'>>();\n  @Output() boxZoomEnd = new EventEmitter<MapEventOf<'boxzoomend'>>();\n  @Output() boxZoomCancel = new EventEmitter<MapEventOf<'boxzoomcancel'>>();\n  @Output() webGlContextLost = new EventEmitter<MapEventOf<'webglcontextlost'>>();\n  @Output() webGlContextRestored = new EventEmitter<MapEventOf<'webglcontextrestored'>>();\n  @Output() mapLoad = new EventEmitter<MapEventOf<'load'>>();\n  @Output() mapCreate = new EventEmitter<Map>();\n  @Output() idle = new EventEmitter<MapEventOf<'idle'>>();\n  @Output() render = new EventEmitter<MapEventOf<'render'>>();\n  @Output() mapError = new EventEmitter<MapEventOf<'error'>>();\n  @Output() data = new EventEmitter<MapEventOf<'data'>>();\n  @Output() styleData = new EventEmitter<MapEventOf<'styledata'>>();\n  @Output() sourceData = new EventEmitter<MapEventOf<'sourcedata'>>();\n  @Output() dataLoading = new EventEmitter<MapEventOf<'dataloading'>>();\n  @Output() styleDataLoading = new EventEmitter<MapEventOf<'styledataloading'>>();\n  @Output() sourceDataLoading = new EventEmitter<MapEventOf<'sourcedataloading'>>();\n  @Output() styleImageMissing = new EventEmitter<MapEventOf<'styleimagemissing'>>();\n  @Output() load = new EventEmitter<MapEventOf<'load'>['target']>();\n\n  get mapInstance(): Map {\n    return this.mapService.mapInstance;\n  }\n\n  @ViewChild('container', { static: true }) mapContainer: ElementRef;\n\n  constructor(private mapService: MapService) { }\n\n  ngAfterViewInit() {\n    this.mapService.setup({\n      accessToken: this.accessToken,\n      mapOptions: {\n        collectResourceTiming: this.collectResourceTiming,\n        container: this.mapContainer.nativeElement,\n        crossSourceCollisions: this.crossSourceCollisions,\n        fadeDuration: this.fadeDuration,\n        minZoom: this.minZoom,\n        maxZoom: this.maxZoom,\n        minPitch: this.minPitch,\n        maxPitch: this.maxPitch,\n        style: this.style,\n        hash: this.hash,\n        interactive: this.interactive,\n        bearingSnap: this.bearingSnap,\n        pitchWithRotate: this.pitchWithRotate,\n        clickTolerance: this.clickTolerance,\n        attributionControl: this.attributionControl,\n        logoPosition: this.logoPosition,\n        failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,\n        preserveDrawingBuffer: this.preserveDrawingBuffer,\n        refreshExpiredTiles: this.refreshExpiredTiles,\n        maxBounds: this.maxBounds,\n        scrollZoom: this.scrollZoom,\n        boxZoom: this.boxZoom,\n        dragRotate: this.dragRotate,\n        dragPan: this.dragPan,\n        keyboard: this.keyboard,\n        doubleClickZoom: this.doubleClickZoom,\n        touchPitch: this.touchPitch,\n        touchZoomRotate: this.touchZoomRotate,\n        trackResize: this.trackResize,\n        center: this.center,\n        zoom: this.zoom,\n        bearing: this.bearing,\n        pitch: this.pitch,\n        renderWorldCopies: this.renderWorldCopies,\n        maxTileCacheSize: this.maxTileCacheSize,\n        localIdeographFontFamily: this.localIdeographFontFamily,\n        transformRequest: this.transformRequest,\n        bounds: this.bounds ? this.bounds : this.fitBounds,\n        fitBoundsOptions: this.fitBoundsOptions,\n        antialias: this.antialias,\n        locale: this.locale,\n        cooperativeGestures: this.cooperativeGestures,\n        projection: this.projection,\n      },\n      mapEvents: this,\n    });\n    if (this.cursorStyle) {\n      this.mapService.changeCanvasCursor(this.cursorStyle);\n    }\n  }\n\n  ngOnDestroy() {\n    this.mapService.destroyMap();\n  }\n\n  async ngOnChanges(changes: SimpleChanges) {\n    await lastValueFrom(this.mapService.mapCreated$);\n    if (changes['cursorStyle'] && !changes['cursorStyle'].isFirstChange()) {\n      this.mapService.changeCanvasCursor(changes['cursorStyle'].currentValue);\n    }\n    if (changes['projection'] && !changes['projection'].isFirstChange()) {\n      this.mapService.updateProjection(changes['projection'].currentValue);\n    }\n    if (changes['minZoom'] && !changes['minZoom'].isFirstChange()) {\n      this.mapService.updateMinZoom(changes['minZoom'].currentValue);\n    }\n    if (changes['maxZoom'] && !changes['maxZoom'].isFirstChange()) {\n      this.mapService.updateMaxZoom(changes['maxZoom'].currentValue);\n    }\n    if (changes['minPitch'] && !changes['minPitch'].isFirstChange()) {\n      this.mapService.updateMinPitch(changes['minPitch'].currentValue);\n    }\n    if (changes['maxPitch'] && !changes['maxPitch'].isFirstChange()) {\n      this.mapService.updateMaxPitch(changes['maxPitch'].currentValue);\n    }\n    if (\n      changes['renderWorldCopies'] &&\n      !changes['renderWorldCopies'].isFirstChange()\n    ) {\n      this.mapService.updateRenderWorldCopies(\n        changes['renderWorldCopies'].currentValue\n      );\n    }\n    if (changes['scrollZoom'] && !changes['scrollZoom'].isFirstChange()) {\n      this.mapService.updateScrollZoom(changes['scrollZoom'].currentValue);\n    }\n    if (changes['dragRotate'] && !changes['dragRotate'].isFirstChange()) {\n      this.mapService.updateDragRotate(changes['dragRotate'].currentValue);\n    }\n    if (changes['touchPitch'] && !changes['touchPitch'].isFirstChange()) {\n      this.mapService.updateTouchPitch(changes['touchPitch'].currentValue);\n    }\n    if (\n      changes['touchZoomRotate'] &&\n      !changes['touchZoomRotate'].isFirstChange()\n    ) {\n      this.mapService.updateTouchZoomRotate(\n        changes['touchZoomRotate'].currentValue\n      );\n    }\n    if (\n      changes['doubleClickZoom'] &&\n      !changes['doubleClickZoom'].isFirstChange()\n    ) {\n      this.mapService.updateDoubleClickZoom(\n        changes['doubleClickZoom'].currentValue\n      );\n    }\n    if (changes['keyboard'] && !changes['keyboard'].isFirstChange()) {\n      this.mapService.updateKeyboard(changes['keyboard'].currentValue);\n    }\n    if (changes['dragPan'] && !changes['dragPan'].isFirstChange()) {\n      this.mapService.updateDragPan(changes['dragPan'].currentValue);\n    }\n    if (changes['boxZoom'] && !changes['boxZoom'].isFirstChange()) {\n      this.mapService.updateBoxZoom(changes['boxZoom'].currentValue);\n    }\n    if (changes['style'] && !changes['style'].isFirstChange()) {\n      this.mapService.updateStyle(changes['style'].currentValue);\n    }\n    if (changes['maxBounds'] && !changes['maxBounds'].isFirstChange()) {\n      this.mapService.updateMaxBounds(changes['maxBounds'].currentValue);\n    }\n    if (\n      changes['fitBounds'] &&\n      changes['fitBounds'].currentValue &&\n      !changes['fitBounds'].isFirstChange()\n    ) {\n      this.mapService.fitBounds(\n        changes['fitBounds'].currentValue,\n        this.fitBoundsOptions\n      );\n    }\n    if (\n      changes['fitScreenCoordinates'] &&\n      changes['fitScreenCoordinates'].currentValue\n    ) {\n      if (\n        (this.center != null || this.zoom != null || this.pitch != null || this.fitBounds != null) &&\n        changes['fitScreenCoordinates'].isFirstChange()\n      ) {\n        console.warn(\n          '[ngx-mapbox-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input'\n        );\n      }\n      this.mapService.fitScreenCoordinates(\n        changes['fitScreenCoordinates'].currentValue,\n        this.bearing ? this.bearing : 0,\n        this.movingOptions\n      );\n    }\n    if (\n      this.centerWithPanTo &&\n      changes['center'] &&\n      !changes['center'].isFirstChange() &&\n      !changes['zoom'] &&\n      !changes['bearing'] &&\n      !changes['pitch']\n    ) {\n      this.mapService.panTo(this.center!, this.panToOptions);\n    } else if (\n      (changes['center'] && !changes['center'].isFirstChange()) ||\n      (changes['zoom'] && !changes['zoom'].isFirstChange()) ||\n      (changes['bearing'] &&\n        !changes['bearing'].isFirstChange() &&\n        !changes['fitScreenCoordinates']) ||\n      (changes['pitch'] && !changes['pitch'].isFirstChange())\n    ) {\n      this.mapService.move(\n        this.movingMethod,\n        this.movingOptions,\n        this.zoom,\n        this.center,\n        this.bearing,\n        this.pitch\n      );\n    }\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { LngLatLike, Marker, MarkerOptions } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { deprecationWarning } from '../utils';\n\n@Component({\n  selector: 'mgl-marker',\n  template: '<div [class]=\"className\" #content><ng-content></ng-content></div>',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MarkerComponent\n  implements OnChanges, OnDestroy, AfterViewInit, OnInit {\n  /* Init input */\n  @Input() offset?: MarkerOptions['offset'];\n  @Input() anchor?: MarkerOptions['anchor'];\n  @Input() clickTolerance?: MarkerOptions['clickTolerance'];\n\n  /* Dynamic input */\n  @Input() feature?: GeoJSON.Feature<GeoJSON.Point>;\n  @Input() lngLat?: LngLatLike;\n  @Input() draggable?: MarkerOptions['draggable'];\n  @Input() popupShown?: boolean;\n  @Input() className: string;\n  @Input() pitchAlignment?: MarkerOptions['pitchAlignment'];\n  @Input() rotationAlignment?: MarkerOptions['rotationAlignment'];\n\n  @Output() markerDragStart = new EventEmitter<Marker>();\n  @Output() markerDragEnd = new EventEmitter<Marker>();\n  @Output() markerDrag = new EventEmitter<Marker>();\n\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  markerInstance?: Marker;\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    if (this.feature && this.lngLat) {\n      throw new Error('feature and lngLat input are mutually exclusive');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['lngLat'] && !changes['lngLat'].isFirstChange()) {\n      this.markerInstance!.setLngLat(this.lngLat!);\n    }\n    if (changes['feature'] && !changes['feature'].isFirstChange()) {\n      this.markerInstance!.setLngLat(\n        this.feature!.geometry!.coordinates as [number, number]\n      );\n    }\n    if (changes['draggable'] && !changes['draggable'].isFirstChange()) {\n      this.markerInstance!.setDraggable(!!this.draggable);\n    }\n\n    if (changes['popupShown'] && !changes['popupShown'].isFirstChange()) {\n      changes['popupShown'].currentValue\n        ? this.markerInstance?.getPopup()?.addTo(this.mapService.mapInstance)\n        : this.markerInstance?.getPopup()?.remove();\n    }\n    if (\n      changes['pitchAlignment'] &&\n      !changes['pitchAlignment'].isFirstChange()\n    ) {\n      this.markerInstance!.setPitchAlignment(\n        changes['pitchAlignment'].currentValue\n      );\n    }\n    if (\n      changes['rotationAlignment'] &&\n      !changes['rotationAlignment'].isFirstChange()\n    ) {\n      this.markerInstance!.setRotationAlignment(\n        changes['rotationAlignment'].currentValue\n      );\n    }\n  }\n\n  ngAfterViewInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      this.markerInstance = this.mapService.addMarker({\n        markersOptions: {\n          offset: this.offset,\n          anchor: this.anchor,\n          pitchAlignment: this.pitchAlignment,\n          rotationAlignment: this.rotationAlignment,\n          draggable: !!this.draggable,\n          element: this.content.nativeElement,\n          feature: this.feature,\n          lngLat: this.lngLat,\n          clickTolerance: this.clickTolerance,\n        },\n        markersEvents: {\n          markerDragStart: this.markerDragStart,\n          markerDrag: this.markerDrag,\n          markerDragEnd: this.markerDragEnd\n        },\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    this.mapService.removeMarker(this.markerInstance!);\n    this.markerInstance = undefined;\n  }\n\n  togglePopup() {\n    this.markerInstance!.togglePopup();\n  }\n\n  updateCoordinates(coordinates: number[]) {\n    this.markerInstance!.setLngLat(coordinates as [number, number]);\n  }\n\n  private warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, MarkerComponent.name);\n    if (this.markerDragStart.observed) {\n      dw('dragStart', 'markerDragStart');\n    }\n    if (this.markerDragEnd.observed) {\n      dw('dragEnd', 'markerDragEnd');\n    }\n    if (this.markerDrag.observed) {\n      dw('drag', 'markerDrag');\n    }\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  Directive,\n  Input,\n  NgZone,\n  OnDestroy,\n  TemplateRef,\n} from '@angular/core';\nimport { MapboxGeoJSONFeature, MapSourceDataEvent } from 'mapbox-gl';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { filter, startWith, switchMap } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n@Directive({ selector: 'ng-template[mglPoint]' })\nexport class PointDirective {}\n\n@Directive({ selector: 'ng-template[mglClusterPoint]' })\nexport class ClusterPointDirective {}\n\nlet uniqId = 0;\n\n@Component({\n  selector: 'mgl-markers-for-clusters',\n  template: `\n    <mgl-layer\n      [id]=\"layerId\"\n      [source]=\"source\"\n      type=\"circle\"\n      [paint]=\"{ 'circle-radius': 0 }\"\n    ></mgl-layer>\n    <ng-container\n      *ngFor=\"let feature of clusterPoints; trackBy: trackByClusterPoint\"\n    >\n      <ng-container *ngIf=\"feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"clusterPointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n      <ng-container *ngIf=\"!feature.properties!['cluster']\">\n        <mgl-marker [feature]=\"$any(feature)\">\n          <ng-container\n            *ngTemplateOutlet=\"pointTpl!; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  preserveWhitespaces: false,\n})\nexport class MarkersForClustersComponent\n  implements OnDestroy, AfterContentInit\n{\n  /* Init input */\n  @Input() source: string;\n\n  @ContentChild(PointDirective, { read: TemplateRef, static: false })\n  pointTpl?: TemplateRef<unknown>;\n  @ContentChild(ClusterPointDirective, { read: TemplateRef, static: false })\n  clusterPointTpl: TemplateRef<unknown>;\n\n  clusterPoints!: MapboxGeoJSONFeature[]; // Incorrect typings\n  layerId = `mgl-markers-for-clusters-${uniqId++}`;\n\n  private sub = new Subscription();\n\n  constructor(\n    private mapService: MapService,\n    private ChangeDetectorRef: ChangeDetectorRef,\n    private zone: NgZone\n  ) {}\n\n  ngAfterContentInit() {\n    const clusterDataUpdate = () =>\n      fromEvent<MapSourceDataEvent>(this.mapService.mapInstance, 'data').pipe(\n        filter(\n          (e) =>\n            e.sourceId === this.source &&\n            e.sourceDataType !== 'metadata' &&\n            this.mapService.mapInstance.isSourceLoaded(this.source)\n        )\n      );\n    const sub = this.mapService.mapCreated$\n      .pipe(\n        switchMap(clusterDataUpdate),\n        switchMap(() =>\n          merge(\n            fromEvent(this.mapService.mapInstance, 'move'),\n            fromEvent(this.mapService.mapInstance, 'moveend')\n          ).pipe(startWith(undefined))\n        )\n      )\n      .subscribe(() => {\n        this.zone.run(() => {\n          this.updateCluster();\n        });\n      });\n    this.sub.add(sub);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  trackByClusterPoint(_index: number, clusterPoint: MapboxGeoJSONFeature) {\n    return clusterPoint.id;\n  }\n\n  private updateCluster() {\n    // Invalid queryRenderedFeatures typing\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const params: any = { layers: [this.layerId] };\n    if (!this.pointTpl) {\n      params.filter = ['==', 'cluster', true];\n    }\n    this.clusterPoints =\n      this.mapService.mapInstance.queryRenderedFeatures(params);\n    this.ChangeDetectorRef.markForCheck();\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { LngLatLike, PointLike, Popup, PopupOptions } from 'mapbox-gl';\nimport { MapService } from '../map/map.service';\nimport { MarkerComponent } from '../marker/marker.component';\nimport { deprecationWarning } from '../utils';\n\n@Component({\n  selector: 'mgl-popup',\n  template: '<div #content><ng-content></ng-content></div>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PopupComponent\n  implements OnChanges, OnDestroy, AfterViewInit, OnInit\n{\n  /* Init input */\n  @Input() closeButton?: PopupOptions['closeButton'];\n  @Input() closeOnClick?: PopupOptions['closeOnClick'];\n  @Input() closeOnMove?: PopupOptions['closeOnMove'];\n  @Input() focusAfterOpen?: PopupOptions['focusAfterOpen'];\n  @Input() anchor?: PopupOptions['anchor'];\n  @Input() className?: PopupOptions['className'];\n  @Input() maxWidth?: PopupOptions['maxWidth'];\n\n  /* Dynamic input */\n  @Input() feature?: GeoJSON.Feature<GeoJSON.Point>;\n  @Input() lngLat?: LngLatLike;\n  @Input() marker?: MarkerComponent;\n  @Input() offset?: number | PointLike | { [anchor: string]: [number, number] };\n\n  @Output() popupClose = new EventEmitter<void>();\n  @Output() popupOpen = new EventEmitter<void>();\n  /**\n   * @deprecated Use popupClose instead\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() close = new EventEmitter<void>();\n  /**\n   * @deprecated Use popupOpen instead\n   */\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() open = new EventEmitter<void>();\n\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  popupInstance?: Popup;\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    this.warnDeprecatedOutputs();\n    if (\n      (this.lngLat && this.marker) ||\n      (this.feature && this.lngLat) ||\n      (this.feature && this.marker)\n    ) {\n      throw new Error('marker, lngLat, feature input are mutually exclusive');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      (changes['lngLat'] && !changes['lngLat'].isFirstChange()) ||\n      (changes['feature'] && !changes['feature'].isFirstChange())\n    ) {\n      const newlngLat = changes['lngLat']\n        ? this.lngLat!\n        : (this.feature!.geometry!.coordinates! as [number, number]);\n      this.mapService.removePopupFromMap(this.popupInstance!, true);\n      const popupInstanceTmp = this.createPopup();\n      this.mapService.addPopupToMap(\n        popupInstanceTmp,\n        newlngLat,\n        this.popupInstance!.isOpen()\n      );\n      this.popupInstance = popupInstanceTmp;\n    }\n    if (changes['marker'] && !changes['marker'].isFirstChange()) {\n      const previousMarker: MarkerComponent = changes['marker'].previousValue;\n      if (previousMarker.markerInstance) {\n        this.mapService.removePopupFromMarker(previousMarker.markerInstance);\n      }\n      if (this.marker && this.marker.markerInstance && this.popupInstance) {\n        this.mapService.addPopupToMarker(\n          this.marker.markerInstance,\n          this.popupInstance\n        );\n      }\n    }\n    if (\n      changes['offset'] &&\n      !changes['offset'].isFirstChange() &&\n      this.popupInstance\n    ) {\n      this.popupInstance.setOffset(this.offset);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.popupInstance = this.createPopup();\n    this.addPopup(this.popupInstance);\n  }\n\n  ngOnDestroy() {\n    if (this.popupInstance) {\n      if (this.lngLat || this.feature) {\n        this.mapService.removePopupFromMap(this.popupInstance);\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.removePopupFromMarker(this.marker.markerInstance);\n      }\n    }\n    this.popupInstance = undefined;\n  }\n\n  private createPopup() {\n    return this.mapService.createPopup(\n      {\n        popupOptions: {\n          closeButton: this.closeButton,\n          closeOnClick: this.closeOnClick,\n          closeOnMove: this.closeOnMove,\n          focusAfterOpen: this.focusAfterOpen,\n          anchor: this.anchor,\n          offset: this.offset,\n          className: this.className,\n          maxWidth: this.maxWidth,\n        },\n        popupEvents: {\n          open: this.open,\n          close: this.close,\n          popupOpen: this.popupOpen,\n          popupClose: this.popupClose,\n        },\n      },\n      this.content.nativeElement\n    );\n  }\n\n  private addPopup(popup: Popup) {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.lngLat || this.feature) {\n        this.mapService.addPopupToMap(\n          popup,\n          this.lngLat\n            ? this.lngLat\n            : (this.feature!.geometry!.coordinates! as [number, number])\n        );\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.addPopupToMarker(this.marker.markerInstance, popup);\n      } else {\n        throw new Error(\n          'mgl-popup need either lngLat/marker/feature to be set'\n        );\n      }\n    });\n  }\n\n  private warnDeprecatedOutputs() {\n    const dw = deprecationWarning.bind(undefined, PopupComponent.name);\n    if (this.close.observed) {\n      dw('close', 'popupClose');\n    }\n    if (this.open.observed) {\n      dw('open', 'popupOpen');\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { CanvasSource } from 'mapbox-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { CanvasSourceOptions } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-canvas-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CanvasSourceComponent\n\n  implements OnInit, OnDestroy, OnChanges, CanvasSourceOptions {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() coordinates: CanvasSourceOptions['coordinates'];\n  @Input() canvas: CanvasSourceOptions['canvas'];\n  @Input() animate?: CanvasSourceOptions['animate'];\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {\n    throw new Error('mgl-canvas-source is not implemented, as CanvasSource does not appear to be supported by mapbox-gl v3');\n  }\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes['canvas'] && !changes['canvas'].isFirstChange()) ||\n      (changes['animate'] && !changes['animate'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (\n      changes['coordinates'] &&\n      !changes['coordinates'].isFirstChange()\n    ) {\n      const source = this.mapService.getSource<CanvasSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    /*\n    const source: CanvasSourceRaw = {\n      type: 'canvas',\n      coordinates: this.coordinates,\n      canvas: this.canvas,\n      animate: this.animate,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n    */\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { ImageSource, ImageSourceSpecification } from 'mapbox-gl';\nimport { Subscription } from 'rxjs';\nimport { MapService } from '../map/map.service';\nimport { ImageSourceOptions } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-image-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ImageSourceComponent\n  implements OnInit, OnDestroy, OnChanges, ImageSourceOptions {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url: ImageSourceOptions['url'];\n  @Input() coordinates: ImageSourceOptions['coordinates'];\n\n  private sub: Subscription;\n  private sourceId?: string;\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$.subscribe(() => this.init());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.sourceId === undefined) {\n      return;\n    }\n\n    const source = this.mapService.getSource<ImageSource>(this.sourceId);\n\n    if (source === undefined) {\n      return;\n    }\n\n    const url = ((changes['url'] === undefined ? undefined : this.url) ?? source.url) as string;\n\n    if (url !== null) {\n      source.updateImage({\n        url,\n        coordinates: changes['coordinates'] === undefined ? undefined : this.coordinates,\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.sub !== undefined) {\n      this.sub.unsubscribe();\n    }\n\n    if (this.sourceId !== undefined) {\n      this.mapService.removeSource(this.sourceId);\n      this.sourceId = undefined;\n    }\n  }\n\n  private init() {\n    const imageSource: ImageSourceSpecification = {\n      type: 'image',\n      url: this.url,\n      coordinates: this.coordinates,\n    };\n\n    this.mapService.addSource(this.id, imageSource);\n    this.sourceId = this.id;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { RasterDEMSource, RasterDEMSourceOptions } from '../map/map.types';\nimport { RasterDEMSourceSpecification } from 'mapbox-gl';\n\n@Component({\n  selector: 'mgl-raster-dem-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RasterDemSourceComponent\n  implements OnInit, OnDestroy, OnChanges, RasterDEMSource {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url?: RasterDEMSourceOptions['url'];\n  @Input() tiles?: RasterDEMSourceOptions['tiles'];\n  @Input() bounds?: RasterDEMSourceOptions['bounds'];\n  @Input() minzoom?: RasterDEMSourceOptions['minzoom'];\n  @Input() maxzoom?: RasterDEMSourceOptions['maxzoom'];\n  @Input() tileSize?: RasterDEMSourceOptions['tileSize'];\n  @Input() attribution?: RasterDEMSourceOptions['attribution'];\n  @Input() encoding?: RasterDEMSourceOptions['encoding'];\n\n  readonly type: RasterDEMSource['type'] = 'raster-dem';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes['url'] && !changes['url'].isFirstChange()) ||\n      (changes['tiles'] && !changes['tiles'].isFirstChange()) ||\n      (changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n      (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n      (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n      (changes['tileSize'] && !changes['tileSize'].isFirstChange()) ||\n      (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n      (changes['encoding'] && !changes['encoding'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: RasterDEMSourceSpecification = {\n      type: 'raster-dem',\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      attribution: this.attribution,\n      encoding: this.encoding,\n    };\n\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { RasterSource } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-raster-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RasterSourceComponent\n  implements OnInit, OnDestroy, OnChanges, RasterSource {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url?: RasterSource['url'];\n  @Input() tiles?: RasterSource['tiles'];\n  @Input() bounds?: RasterSource['bounds'];\n  @Input() minzoom?: RasterSource['minzoom'];\n  @Input() maxzoom?: RasterSource['maxzoom'];\n  @Input() tileSize?: RasterSource['tileSize'];\n  @Input() scheme?: RasterSource['scheme'];\n  @Input() attribution?: RasterSource['attribution'];\n\n  readonly type: RasterSource['type'] = 'raster';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes['url'] && !changes['url'].isFirstChange()) ||\n      (changes['tiles'] && !changes['tiles'].isFirstChange()) ||\n      (changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n      (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n      (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n      (changes['tileSize'] && !changes['tileSize'].isFirstChange()) ||\n      (changes['scheme'] && !changes['scheme'].isFirstChange()) ||\n      (changes['attribution'] && !changes['attribution'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: RasterSource = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      scheme: this.scheme,\n      attribution: this.attribution,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { VectorTileSource } from 'mapbox-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { VectorSource } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-vector-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VectorSourceComponent\n  implements OnInit, OnDestroy, OnChanges, VectorSource {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url?: VectorSource['url'];\n  @Input() tiles?: VectorSource['tiles'];\n  @Input() bounds?: VectorSource['bounds'];\n  @Input() scheme?: VectorSource['scheme'];\n  @Input() minzoom?: VectorSource['minzoom'];\n  @Input() maxzoom?: VectorSource['maxzoom'];\n  @Input() attribution?: VectorSource['attribution'];\n  @Input() promoteId?: VectorSource['promoteId'];\n\n  readonly type: VectorSource['type'] = 'vector';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n\n    if (\n      (changes['bounds'] && !changes['bounds'].isFirstChange()) ||\n      (changes['scheme'] && !changes['scheme'].isFirstChange()) ||\n      (changes['minzoom'] && !changes['minzoom'].isFirstChange()) ||\n      (changes['maxzoom'] && !changes['maxzoom'].isFirstChange()) ||\n      (changes['attribution'] && !changes['attribution'].isFirstChange()) ||\n      (changes['promoteId'] && !changes['promoteId'].isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (\n      (changes['url'] && !changes['url'].isFirstChange()) ||\n      (changes['tiles'] && !changes['tiles'].isFirstChange())\n    ) {\n      const source = this.mapService.getSource<VectorTileSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      if (changes['url'] && this.url) {\n        source.setUrl(this.url);\n      }\n\n      if (changes['tiles'] && this.tiles) {\n        source.setTiles(this.tiles);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: VectorSource = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      scheme: this.scheme,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      promoteId: this.promoteId,\n    };\n\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { VideoSource, VideoSourceSpecification } from 'mapbox-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { VideoSourceOptions } from '../map/map.types';\n\n@Component({\n  selector: 'mgl-video-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VideoSourceComponent\n  implements OnInit, OnDestroy, OnChanges, VideoSourceOptions {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() urls: VideoSourceOptions['urls'];\n  @Input() coordinates: VideoSourceOptions['coordinates'];\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) { }\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n\n    if (changes['urls'] && !changes['urls'].isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (\n      changes['coordinates'] &&\n      !changes['coordinates'].isFirstChange()\n    ) {\n      const source = this.mapService.getSource<VideoSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates!);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: VideoSourceSpecification = {\n      type: 'video',\n      urls: this.urls,\n      coordinates: this.coordinates,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { AttributionControlDirective } from './control/attribution-control.directive';\nimport { ControlComponent } from './control/control.component';\nimport { FullscreenControlDirective } from './control/fullscreen-control.directive';\nimport { GeolocateControlDirective } from './control/geolocate-control.directive';\nimport { NavigationControlDirective } from './control/navigation-control.directive';\nimport { ScaleControlDirective } from './control/scale-control.directive';\nimport { DraggableDirective } from './draggable/draggable.directive';\nimport { ImageComponent } from './image/image.component';\nimport { LayerComponent } from './layer/layer.component';\nimport { MapComponent } from './map/map.component';\nimport { MAPBOX_API_KEY } from './map/map.service';\nimport { MarkerComponent } from './marker/marker.component';\nimport {\n  ClusterPointDirective,\n  MarkersForClustersComponent,\n  PointDirective,\n} from './markers-for-clusters/markers-for-clusters.component';\nimport { PopupComponent } from './popup/popup.component';\nimport { CanvasSourceComponent } from './source/canvas-source.component';\nimport { FeatureComponent } from './source/geojson/feature.component';\nimport { GeoJSONSourceComponent } from './source/geojson/geojson-source.component';\nimport { ImageSourceComponent } from './source/image-source.component';\nimport { RasterDemSourceComponent } from './source/raster-dem-source.component';\nimport { RasterSourceComponent } from './source/raster-source.component';\nimport { VectorSourceComponent } from './source/vector-source.component';\nimport { VideoSourceComponent } from './source/video-source.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    MapComponent,\n    LayerComponent,\n    DraggableDirective,\n    ImageComponent,\n    VectorSourceComponent,\n    GeoJSONSourceComponent,\n    RasterDemSourceComponent,\n    RasterSourceComponent,\n    ImageSourceComponent,\n    VideoSourceComponent,\n    CanvasSourceComponent,\n    FeatureComponent,\n    MarkerComponent,\n    PopupComponent,\n    ControlComponent,\n    FullscreenControlDirective,\n    NavigationControlDirective,\n    GeolocateControlDirective,\n    AttributionControlDirective,\n    ScaleControlDirective,\n    PointDirective,\n    ClusterPointDirective,\n    MarkersForClustersComponent,\n  ],\n  exports: [\n    MapComponent,\n    LayerComponent,\n    DraggableDirective,\n    ImageComponent,\n    VectorSourceComponent,\n    GeoJSONSourceComponent,\n    RasterDemSourceComponent,\n    RasterSourceComponent,\n    ImageSourceComponent,\n    VideoSourceComponent,\n    CanvasSourceComponent,\n    FeatureComponent,\n    MarkerComponent,\n    PopupComponent,\n    ControlComponent,\n    FullscreenControlDirective,\n    NavigationControlDirective,\n    GeolocateControlDirective,\n    AttributionControlDirective,\n    ScaleControlDirective,\n    PointDirective,\n    ClusterPointDirective,\n    MarkersForClustersComponent,\n  ],\n})\nexport class NgxMapboxGLModule {\n  static withConfig(config: {\n    accessToken: string;\n  }): ModuleWithProviders<NgxMapboxGLModule> {\n    return {\n      ngModule: NgxMapboxGLModule,\n      providers: [\n        {\n          provide: MAPBOX_API_KEY,\n          useValue: config.accessToken,\n        },\n      ],\n    };\n  }\n}\n","/*\n * Public API Surface of ngx-mapbox-gl\n */\n\n// Expose NgxMapboxGlModule and GeocoderControlDirective provided injection tokens\nexport * from './lib/control/attribution-control.directive';\n// Expose control component to allow custom directives\nexport * from './lib/control/control.component';\nexport * from './lib/control/fullscreen-control.directive';\nexport * from './lib/control/geolocate-control.directive';\nexport * from './lib/control/navigation-control.directive';\nexport * from './lib/control/scale-control.directive';\nexport * from './lib/draggable/draggable.directive';\nexport * from './lib/image/image.component';\nexport * from './lib/layer/layer.component';\nexport * from './lib/map/map.component';\n// Expose MapService for ngx-mapbox-gl extensions\nexport * from './lib/map/map.service';\nexport * from './lib/map/map.types';\nexport * from './lib/marker/marker.component';\nexport * from './lib/markers-for-clusters/markers-for-clusters.component';\nexport * from './lib/ngx-mapbox-gl.module';\nexport * from './lib/popup/popup.component';\nexport * from './lib/source/canvas-source.component';\nexport * from './lib/source/geojson/feature.component';\n// Expose GeoJSONSourceComponent to access cluster functions\nexport * from './lib/source/geojson/geojson-source.component';\nexport * from './lib/source/image-source.component';\nexport * from './lib/source/raster-dem-source.component';\nexport * from './lib/source/raster-source.component';\nexport * from './lib/source/vector-source.component';\nexport * from './lib/source/video-source.component';\n// Expose deprecation warning\nexport * from './lib/utils';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1.MapService","i2.ControlComponent","i2.FeatureComponent","i3.LayerComponent","i4.MarkerComponent"],"mappings":"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"}